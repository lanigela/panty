<!DOCTYPE html>
<html>
<head>

</head>
<body>
<!--iframe frameborder="no" style="width:100%;height:500px;background-repeat:no-repeat;background-position:center;background-image:url(http://paletteenvy.com/wp-content/uploads/2017/06/palette-envy-logo-10.16.png)" src="https://clara.io/player/v2/7ef4fd45-fded-4f58-a73f-b5fbf519ddea?tools=hide"></iframe-->
<div id="clara-embed" style=" height: 500px;background-repeat:no-repeat;background-position:center;background-image:url(http://paletteenvy.com/wp-content/uploads/2017/06/palette-envy-logo-10.16.png)"></div>
<script type="text/javascript" src="https://clara.io/js/claraplayer.min.js"></script>
<script>
if(!window.clara) {
	var clara = claraplayer('clara-embed');

	clara.on('loaded', function() {
	window.clara = clara;
	});

	// Fetch and initialize the sceneId
	//clara.sceneIO.fetchAndUse("7ef4fd45-fded-4f58-a73f-b5fbf519ddea").then( () => {
	clara.sceneIO.fetch("89cf361e-b632-42b3-bd90-3dde405062ec").then( () => {
		  clara.sceneIO.useScene("89cf361e-b632-42b3-bd90-3dde405062ec");
		  ['fullscreen', 'home', 'vrSettings', 'orbit', 'zoom', 'tour'].map(
			clara.player.hideTool
		  );
		  ['pan'].map(clara.player.removeTool);

		  clara.commands.setCommandOptions('orbit', {
			turnTable: true,
			mobileOnly: true,
			touchVerticalDefault: true,
		  });
		  
		  clara.commands.addCommand({
            enabled: true,
            active: true,
            tool: {
              drag: function(ev){
                var bb = ev.rect;
                return {
                  momentum: false,
                  handle: function(ev){
                    var degrees = 360*ev.deltaX/bb.width;
                    var rotation = clara.scene.get({name:'leggings_v5', plug: 'Transform', property: 'rotation'});

                    clara.scene.set({name:'leggings_v5', plug: 'Transform', property: 'rotation'},{x: rotation.x, y:rotation.y+degrees, z:rotation.z});
                  }
                };
              },
            }
          }, 'planeRotate');
		  
	});
}	
</script>
</body>
</html>